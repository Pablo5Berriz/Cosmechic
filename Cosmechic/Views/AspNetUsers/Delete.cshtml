@model Cosmechic.Models.AspNetUser

@{
    ViewData["Title"] = "Suppression utilisateur";
    if (User.IsInRole("Admin"))
    {
        Layout = "~/Views/Shared/_DashboardLayout.cshtml";
    }
}
@{
    bool isAdmin = User.IsInRole("Admin");
}

@if (!isAdmin)
{
    <section class="py-5" style="margin-top: 100px;">
        <div class="text-center">
            <h1 class="fw-folder" style=" color:darkblue">
                @ViewData["Title"]
            </h1>
        </div>
    </section>
}

<div class="container mt-5 mb-5 text-center" style="margin-top: 50px;">
    <div class="card">
        <div class="card shadow mb-4">
            @if (User.IsInRole("Admin"))
            {
                <div class="card-header py-3">
                    <h1 class="m-0 font-weight-bold text-primary">Supprimer cet utilisateur</h1>
                </div>
            }
            else
            {
                <div class="card-header">
                    <h1 class="h3 mb-0 text-gray-800">Supprimer de mon compte</h1>
                </div>
            }
        </div>
        <div class="card-body">
            @if (User.IsInRole("Admin"))
            {
                <h3 class="text-warning">Êtes-vous sûr de vouloir supprimer cet utilisateur ?</h3>
            }
            else
            {
                <h3 class="text-warning">Êtes-vous sûr de vouloir supprimer votre profil ?</h3>
            }
            <dl class="row">
                <dt class="col-sm-4">Utilisateur</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.UserName)</dd>

                <dt class="col-sm-4">Email</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Email)</dd>

                <dt class="col-sm-4">Numéro de Téléphone</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.PhoneNumber)</dd>

                <dt class="col-sm-4">Adresse</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.StreetAddress)</dd>

                <dt class="col-sm-4">Ville</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.City)</dd>

                <dt class="col-sm-4">Province</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.State)</dd>

                <dt class="col-sm-4">Code Postal</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.PostalCode)</dd>
            </dl>
            <form asp-action="Delete" class="mt-4">
                <input type="hidden" asp-for="Id" />
                <a class="btn btn-secondary" asp-action="Index">Annuler</a>
                <input type="submit" value="Supprimer" class="btn btn-danger" /> 
            </form>
        </div>
    </div>
</div>
